# This workflow will build a Java project with Maven, and cache/restore any dependencies to improve the workflow execution time
# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-maven

name: test

on:
  push:
    branches:
      - main
      - 'feature/**'
      - yoyo
  pull_request:
    branches:
      - main
      - 'feature/**'
      - yoyo

jobs:
  setupjob:
    runs-on: ubuntu-latest
    outputs:
      namess: ${{ steps.module1.outputs.src}}
    steps:
      # Checkout and setup
      - uses: actions/checkout@v2
        # Grant permission tgo mvnw
      - name: Check if change is in module1
        uses: dorny/paths-filter@v2
        id: module1
        with:
          filters: |
            src:
              - 'module1/**'

#  setupjob1:
#    runs-on: ubuntu-latest
#    needs: setupjob
#    steps:
#      - run: echo hi there ${{ needs.setupjob.outputs.namess}}


  call-test1:
    needs: setupjob
    if: ${{ needs.setupjob.outputs.namess}} == 'true'
    uses: sumitpareek1/sumitpareek1/.github/workflows/test1.yml@yoyo
    with:
        opps: ${{ needs.setupjob.outputs.namess }}